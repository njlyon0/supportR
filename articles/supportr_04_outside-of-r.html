<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Operating Outside of R • supportR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Operating Outside of R">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">supportR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/supportr_01_wrangle.html">Data Wrangling</a></li>
    <li><a class="dropdown-item" href="../articles/supportr_02_quality-control.html">Quality Control</a></li>
    <li><a class="dropdown-item" href="../articles/supportr_03_visualizations.html">Data Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/supportr_04_outside-of-r.html">Operating Outside of R</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/njlyon0/supportR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Operating Outside of R</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/njlyon0/supportR/blob/main/vignettes/supportr_04_outside-of-r.Rmd" class="external-link"><code>vignettes/supportr_04_outside-of-r.Rmd</code></a></small>
      <div class="d-none name"><code>supportr_04_outside-of-r.Rmd</code></div>
    </div>

    
    
<p>Finally, I’ve written several functions that allow you to interact
with APIs (Application Programming Interfaces) outside of R via R
functions with hopefully more comfortable syntax. Because these
functions rely on user credentials, they cannot be run non-interactively
(as in the submission of version updates for <code>supportR</code> to
CRAN) so the following code chunks are not evaluated but are included as
examples of the proper syntax for your reference.</p>
<div class="section level3">
<h3 id="github-related-functions">GitHub-Related Functions<a class="anchor" aria-label="anchor" href="#github-related-functions"></a>
</h3>
<p>For GitHub users, I’ve developed two related functions:
<code>github_ls</code> and <code>github_tree</code>.
<code>github_ls</code> accepts the URL to a GitHub repository to which
you have access (public or private). It creates a dataframe of that
repository’s contents including their names, types, and full paths
within the repository. Listing of a particular folder and recursive
listing of all nested subfolders within a repository are both supported
via additional arguments.</p>
<p>If the <code>folder</code> argument is set to <code>NULL</code> (the
default) the top level of the repository is listed.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List all files in a GitHub repository</span></span>
<span><span class="fu">supportR</span><span class="fu">::</span><span class="fu"><a href="../reference/github_ls.html">github_ls</a></span><span class="op">(</span>repo <span class="op">=</span> <span class="st">"https://github.com/njlyon0/supportR"</span>,</span>
<span>                    recursive <span class="op">=</span> <span class="cn">TRUE</span>, quiet <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">##                          name type                path</span></span>
<span><span class="co">## 1               .Rbuildignore file                   .</span></span>
<span><span class="co">## 2                     .github  dir                   .</span></span>
<span><span class="co">## 3                  .gitignore file                   .</span></span>
<span><span class="co">## 4                 DESCRIPTION file                   .</span></span>
<span><span class="co">## 5                     LICENSE file                   .</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Or list files in only a particular folder</span></span>
<span><span class="fu">supportR</span><span class="fu">::</span><span class="fu"><a href="../reference/github_ls.html">github_ls</a></span><span class="op">(</span>repo <span class="op">=</span> <span class="st">"https://github.com/njlyon0/supportR"</span>, folder <span class="op">=</span> <span class="st">"R"</span>,</span>
<span>                    recursive <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">##                   name type path</span></span>
<span><span class="co">## 1         array_melt.R file    R</span></span>
<span><span class="co">## 2              count.R file    R</span></span>
<span><span class="co">## 3           crop_tri.R file    R</span></span>
<span><span class="co">## 4         date_check.R file    R</span></span></code></pre></div>
<p><code>github_tree</code> is an extension of <code>github_ls</code>
that identifies all files in a repository and creates a file tree
diagram of that folder structure that is simple and human-readable.
Unlike <code>github_ls</code>, <code>github_tree</code> only supports
recursive identification of all files beginning at the top level of the
repository. It does however allow users to exclude the listings of
particular folders by specifying their names in the <code>exclude</code>
argument.</p>
<p>I think this could be particularly useful to embed in a repository’s
<code>README.Rmd</code> to create a quick-and-easy file map for visitors
to use as a guide in navigating the repository’s contents.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a file tree diagram of a GitHub repository</span></span>
<span><span class="fu">supportR</span><span class="fu">::</span><span class="fu"><a href="../reference/github_tree.html">github_tree</a></span><span class="op">(</span>repo <span class="op">=</span> <span class="st">"https://github.com/njlyon0/supportR"</span>,</span>
<span>                      exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"docs"</span>, <span class="st">"man"</span>, <span class="st">".github"</span><span class="op">)</span>, quiet <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">##                               levelName</span></span>
<span><span class="co">## 1  .                                   </span></span>
<span><span class="co">## 2   ¦--.Rbuildignore                   </span></span>
<span><span class="co">## 3   ¦--.github                         </span></span>
<span><span class="co">## 4   ¦   °--11 excluded items           </span></span>
<span><span class="co">## 5   ¦--.gitignore                      </span></span>
<span><span class="co">## 6   ¦--DESCRIPTION                     </span></span>
<span><span class="co">## 7   ¦--LICENSE                         </span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="external-file-related-functions">External File-Related Functions<a class="anchor" aria-label="anchor" href="#external-file-related-functions"></a>
</h3>
<p>Valuable information is sometimes stored as markdown files
which–while consistently formatted internally–are not always easily
parsed through R. I’ve written <code>tabularize_md</code> to ingest a
markdown file and collapse it into a table while still preserving the
nested structure of any headings that may be in the source file. This
function accepts either a local markdown file name/path or a connection
(via URL) to an online markdown file. I’ll demonstrate the URL-based
variant here but to use it on a local file you need only provide the
file name/path as you would to any other reading function (e.g.,
<code>read.csv</code>, etc.)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Identify URL to the NEWS.md file in `supportR` GitHub repo</span></span>
<span><span class="va">md_cxn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">url</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/njlyon0/supportR/main/NEWS.md"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Transform it into a table</span></span>
<span><span class="va">md_df</span> <span class="op">&lt;-</span> <span class="fu">supportR</span><span class="fu">::</span><span class="fu"><a href="../reference/tabularize_md.html">tabularize_md</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">md_cxn</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Close connection (just good housekeeping to do so)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">close</a></span><span class="op">(</span><span class="va">md_cxn</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check out the table format</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">md_df</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## 'data.frame':    25 obs. of  2 variables:</span></span>
<span><span class="co">##  $ level_1: chr  "supportR Version 1.4.0.900" "supportR Version 1.4.0.900" "supportR Version 1.4.0" "supportR Version 1.4.0" ...</span></span>
<span><span class="co">##  $ text   : chr  "Development version, changes from preceding version are listed below:" "- Function fix: Fixed issue with `replace_non_ascii` where if `include_letters` was set to `FALSE` a warning wa"| __truncated__ "Changes from preceding version are listed below" "- New function: `replace_non_ascii`. Replaces non-ASCII characters with ASCII characters that are as visually s"| __truncated__</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="google-drive-related-functions">Google Drive-Related Functions<a class="anchor" aria-label="anchor" href="#google-drive-related-functions"></a>
</h3>
<p>For users who create RMarkdown reports and want to store them in a
Google Drive folder, <code>rmd_export</code> knits and exports a given R
Markdown file both locally and to a user-designated Google Drive folder.
Note that you <strong><em>MUST</em></strong> authenticate your R session
with the <code>googledrive</code> package so that it has permission to
access the Drive folder you supply. I recommend running
<code><a href="https://googledrive.tidyverse.org/reference/drive_auth.html" class="external-link">googledrive::drive_auth()</a></code> and doing the authentication
“dance” in a browser before using <code>rmd_export</code> to reduce the
chances of any errors.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Authorize R to interact with GoogleDrive</span></span>
<span><span class="fu">googledrive</span><span class="fu">::</span><span class="fu"><a href="https://googledrive.tidyverse.org/reference/drive_auth.html" class="external-link">drive_auth</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use `rmd_export()` to knit and export an .Rmd file</span></span>
<span><span class="fu">supportR</span><span class="fu">::</span><span class="fu"><a href="../reference/rmd_export.html">rmd_export</a></span><span class="op">(</span>rmd <span class="op">=</span> <span class="st">"my_markdown.Rmd"</span>,</span>
<span>                     in_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"Folder in my WD with the .Rmd named in `rmd`"</span><span class="op">)</span>,</span>
<span>                     out_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"Folder in my WD to save the knit file to"</span><span class="op">)</span>,</span>
<span>                     out_name <span class="op">=</span> <span class="st">"desired name for output"</span>,</span>
<span>                     out_type <span class="op">=</span> <span class="st">"html"</span>,</span>
<span>                     drive_link <span class="op">=</span> <span class="st">"&lt;Full Google Drive link&gt;"</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nicholas J Lyon.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
